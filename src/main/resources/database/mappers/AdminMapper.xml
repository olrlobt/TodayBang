<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
		    PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
		    "http://mybatis.org/dtd/mybatis-3-mapper.dtd">    
		<mapper namespace="com.goodee.home.admin.AdminDAO">
			<select id="getMember" resultMap="getMemberResult">
				SELECT MB.USERID , MB.NICKNAME , MR.ROLENUM , RL.ROLENAME
				FROM MEMBERS MB
				    INNER JOIN "MEMBER-ROLE" MR
				    ON MB.USERID = MR.USERID
				    INNER JOIN "ROLE" RL
					ON MR.ROLENUM = RL.ROLENUM
			</select>
			
			<resultMap type="MemberDTO" id="getMemberResult">
				<id column="USERID" property="userId"/>
				<result column="NICKNAME" property="nickname"/>
				<collection property="roleDTOs" javaType="List" ofType="RoleDTO">
					<id column="ROLENUM" property="roleNum"/>
					<result column="ROLENAME" property="roleName"/>
				</collection>
				
			
			
			
			</resultMap>
			
			
		
		
		</mapper>